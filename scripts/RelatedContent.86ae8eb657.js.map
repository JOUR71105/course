{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./app/scripts/components/Story.js","webpack:///./app/scripts/components/RelatedContent.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./app/scripts/utils/feeds.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_inherits","subClass","superClass","prototype","create","constructor","value","writable","configurable","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","this","Story","headline","url","lead_art","readable_pub_date","class","href","ga-event-category","ga-event-action","ga-event-label","src","thumbnails","letterbox","alt","RelatedContent","state","stories","props","gutenTag","numberOfStories","fetch","BUILD_RELATED_CONTENT_URL","then","res","json","results","setState","title","map","story","id","Component","defaultProps","_getPrototypeOf","getPrototypeOf","_possibleConstructorReturn","_defineProperties","descriptor","enumerable","defineProperty","_createClass","protoProps","staticProps","TRENDING_STORIES_URL"],"mappings":"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","file":"RelatedContent.86ae8eb657.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import { h } from 'preact';\n\nconst Story = ({ headline, url, lead_art, readable_pub_date }) => {\n  return (\n    <article class=\"story\">\n      <a\n        class=\"story-link dim\"\n        href={url}\n        target=\"_blank\"\n        ga-event-category=\"read more\"\n        ga-event-action=\"automated by tag\"\n        ga-event-label=\"apps page\"\n      >\n        <div class=\"story-media\">\n          <div class=\"story-art\">\n            <img src={lead_art.thumbnails.letterbox} alt={headline} />\n          </div>\n          <div class=\"story-text\">\n            <header class=\"story-header\">\n              <h4 class=\"story-headline\">{headline}</h4>\n              <p class=\"story-byline\">{readable_pub_date}</p>\n            </header>\n          </div>\n        </div>\n      </a>\n    </article>\n  );\n};\n\nexport default Story;\n","import { Component, h } from 'preact';\n\nimport Story from './Story';\n\nimport { BUILD_RELATED_CONTENT_URL } from '../utils/feeds';\n\nclass RelatedContent extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      stories: [],\n    };\n  }\n\n  componentDidMount() {\n    const { gutenTag, numberOfStories } = this.props;\n\n    fetch(BUILD_RELATED_CONTENT_URL({ gutenTag, numberOfStories }))\n      .then(res => res.json())\n      .then(({ results: stories }) => this.setState({ stories }));\n  }\n\n  render({ title }, { stories }) {\n    return (\n      <section class=\"related-stories\">\n        <p class=\"related-content__title\">{title}</p>\n        <nav class=\"stories\">\n          {stories.map(story => (\n            <Story key={story.id} {...story} />\n          ))}\n        </nav>\n      </section>\n    );\n  }\n}\n\nRelatedContent.defaultProps = {\n  numberOfStories: 4,\n  title: 'Read more',\n};\n\nexport default RelatedContent;\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","const TRENDING_STORIES_URL =\n  'https://www.texastribune.org/api/v1/content/most_viewed/?format=json&limit=5';\nconst BUILD_RELATED_CONTENT_URL = ({ gutenTag, numberOfStories = 4 }) =>\n  `https://www.texastribune.org/api/v1/content/?content_type=story,audio,video,pointer&tag=${gutenTag}&tag!=object-tribcast&fields=id,url,readable_pub_date,headline,short_summary,lead_art&limit=${numberOfStories}&format=json`;\n\nexport { BUILD_RELATED_CONTENT_URL, TRENDING_STORIES_URL };\n"],"sourceRoot":""}