{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./app/scripts/components/Story.js","webpack:///./app/scripts/components/RelatedContent.js","webpack:///./app/scripts/utils/feeds.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","Story","headline","url","lead_art","readable_pub_date","class","href","ga-event-category","ga-event-action","ga-event-label","src","thumbnails","letterbox","alt","RelatedContent","Component","constructor","super","state","stories","componentDidMount","gutenTag","numberOfStories","props","fetch","BUILD_RELATED_CONTENT_URL","then","res","json","results","setState","render","title","map","story","id","defaultProps","TRENDING_STORIES_URL"],"mappings":"2FAAe,SAASA,IAetB,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,IAGOS,MAAMC,KAAMR,W,uBCcfS,EA3BA,IAAmD,IAAnD,SAAEC,EAAF,IAAYC,EAAZ,SAAiBC,EAAjB,kBAA2BC,GAAwB,EAChE,OACE,uBAASC,MAAM,SACb,iBACEA,MAAM,iBACNC,KAAMJ,EACNb,OAAO,SACPkB,oBAAkB,YAClBC,kBAAgB,mBAChBC,iBAAe,aAEf,mBAAKJ,MAAM,eACT,mBAAKA,MAAM,aACT,mBAAKK,IAAKP,EAASQ,WAAWC,UAAWC,IAAKZ,KAEhD,mBAAKI,MAAM,cACT,sBAAQA,MAAM,gBACZ,kBAAIA,MAAM,kBAAkBJ,GAC5B,iBAAGI,MAAM,gBAAgBD,S,YCdvC,MAAMU,UAAuBC,YAC3BC,cACEC,QAEAlB,KAAKmB,MAAQ,CACXC,QAAS,IAIbC,oBACE,IAAM,SAAEC,EAAF,gBAAYC,GAAoBvB,KAAKwB,MAE3CC,MAAMC,YAA0B,CAAEJ,WAAUC,qBACzCI,KAAKC,GAAOA,EAAIC,QAChBF,KAAM,IAAD,IAAGG,QAASV,GAAZ,SAA0BpB,KAAK+B,SAAS,CAAEX,cAGpDY,OAAO,EAAD,GAAyB,IAAxB,MAAEC,GAAsB,GAAb,QAAEb,GAAW,EAC7B,OACE,uBAASd,MAAM,mBACb,iBAAGA,MAAM,0BAA0B2B,GACnC,mBAAK3B,MAAM,WACRc,EAAQc,IAAIC,GACX,YAAC,EAAD,GAAOxC,IAAKwC,EAAMC,IAAQD,QAQtCpB,EAAesB,aAAe,CAC5Bd,gBAAiB,EACjBU,MAAO,aAGMlB,a,kCC1Cf,oEAAMuB,EACJ,+EACIZ,EAA6B,IAAD,IAAC,SAAEJ,EAAF,gBAAYC,EAAkB,GAA/B,0GAC2DD,EAD3D,uGACkKC,EADlK","file":"RelatedContent.a705707559.mjs","sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import { h } from 'preact';\n\nconst Story = ({ headline, url, lead_art, readable_pub_date }) => {\n  return (\n    <article class=\"story\">\n      <a\n        class=\"story-link dim\"\n        href={url}\n        target=\"_blank\"\n        ga-event-category=\"read more\"\n        ga-event-action=\"automated by tag\"\n        ga-event-label=\"apps page\"\n      >\n        <div class=\"story-media\">\n          <div class=\"story-art\">\n            <img src={lead_art.thumbnails.letterbox} alt={headline} />\n          </div>\n          <div class=\"story-text\">\n            <header class=\"story-header\">\n              <h4 class=\"story-headline\">{headline}</h4>\n              <p class=\"story-byline\">{readable_pub_date}</p>\n            </header>\n          </div>\n        </div>\n      </a>\n    </article>\n  );\n};\n\nexport default Story;\n","import { Component, h } from 'preact';\n\nimport Story from './Story';\n\nimport { BUILD_RELATED_CONTENT_URL } from '../utils/feeds';\n\nclass RelatedContent extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      stories: [],\n    };\n  }\n\n  componentDidMount() {\n    const { gutenTag, numberOfStories } = this.props;\n\n    fetch(BUILD_RELATED_CONTENT_URL({ gutenTag, numberOfStories }))\n      .then(res => res.json())\n      .then(({ results: stories }) => this.setState({ stories }));\n  }\n\n  render({ title }, { stories }) {\n    return (\n      <section class=\"related-stories\">\n        <p class=\"related-content__title\">{title}</p>\n        <nav class=\"stories\">\n          {stories.map(story => (\n            <Story key={story.id} {...story} />\n          ))}\n        </nav>\n      </section>\n    );\n  }\n}\n\nRelatedContent.defaultProps = {\n  numberOfStories: 4,\n  title: 'Read more',\n};\n\nexport default RelatedContent;\n","const TRENDING_STORIES_URL =\n  'https://www.texastribune.org/api/v1/content/most_viewed/?format=json&limit=5';\nconst BUILD_RELATED_CONTENT_URL = ({ gutenTag, numberOfStories = 4 }) =>\n  `https://www.texastribune.org/api/v1/content/?content_type=story,audio,video,pointer&tag=${gutenTag}&tag!=object-tribcast&fields=id,url,readable_pub_date,headline,short_summary,lead_art&limit=${numberOfStories}&format=json`;\n\nexport { BUILD_RELATED_CONTENT_URL, TRENDING_STORIES_URL };\n"],"sourceRoot":""}