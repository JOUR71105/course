(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"1OyB":function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,"a",function(){return r})},JX7q:function(t,n,e){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.d(n,"a",function(){return r})},Ji7U:function(t,n,e){"use strict";function r(t,n){return(r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}e.d(n,"a",function(){return o})},foSv:function(t,n,e){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.d(n,"a",function(){return r})},md7G:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var r=e("U8pU"),o=e("JX7q");function i(t,n){return!n||"object"!==Object(r.a)(n)&&"function"!=typeof n?Object(o.a)(t):n}},rKEY:function(t,n,e){"use strict";e.r(n);var r=e("1OyB"),o=e("vuIU"),i=e("md7G"),c=e("foSv"),u=e("JX7q"),a=e("Ji7U"),s=e("ezi5");function l(t){return null==t}var f="Â ",b=new RegExp(/\s+([^\s]*)\s*$/);var d=function(){var t=window.location;return"".concat(t.protocol,"//").concat(t.host).concat(t.pathname)};var p=e("xcSt"),v=function(t){function n(){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(c.a)(n).call(this))).state={loadSucceeded:!1,scrollingDown:!1,stories:[]},t.previousYOffset=-1,t.onScroll=t.onScroll.bind(Object(u.a)(t)),t.throttledOnScroll=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=null,o=null,i=function(){t.apply(e,o),r=null};return function(){r||(o=arguments,r=setTimeout(i,n))}}(t.onScroll,300),t}return Object(a.a)(n,t),Object(o.a)(n,[{key:"onScroll",value:function(){var t,n=window.pageYOffset,e=this.previousYOffset;n>e?t=!0:n<e&&(t=!1),this.previousYOffset=n,this.setState({scrollingDown:t})}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("scroll",this.throttledOnScroll,!1),fetch(p.b).then(function(t){return t.json()}).then(function(n){var e=n.results?n.results:n;t.setState({loadSucceeded:!0,stories:e})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledOnScroll,!1)}},{key:"render",value:function(t,n){var e=n.loadSucceeded,r=n.scrollingDown,o=n.stories,i=r?"ribbon ribbon--inactive":"ribbon";e||(i+=" ribbon--hidden");var c=d();return o=o.filter(function(t){return t.url!==c}),Object(s.h)("nav",{class:i},Object(s.h)("p",{class:"ribbon__title"},"Trending on"," ",Object(s.h)("a",{href:"https://www.texastribune.org/"},"The Texas Tribune")),Object(s.h)("ul",{class:"ribbon__stories"},o.slice(0,4).map(function(t,n){var e="ribbon__story";return 2===n&&(e+=" ribbon__story--three"),3===n&&(e+=" ribbon__story--four"),Object(s.h)("li",{key:t.id,class:e,"ga-event-category":"read more","ga-event-action":"trending","ga-event-label":"apps page"},Object(s.h)("a",{href:t.url},function(t,n){return void 0===n&&(n=f),l(t)?"":String(t).replace(b,n+"$1")}(t.headline)))})))}}]),n}(s.Component);n.default=v},vuIU:function(t,n,e){"use strict";function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}e.d(n,"a",function(){return o})},xcSt:function(t,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return r});var r="https://www.texastribune.org/api/v1/content/most_viewed/?format=json&limit=5",o=function(t){var n=t.gutenTag,e=t.numberOfStories,r=void 0===e?4:e;return"https://www.texastribune.org/api/v1/content/?content_type=story,audio,video,pointer&tag=".concat(n,"&tag!=object-tribcast&fields=id,url,readable_pub_date,headline,short_summary,lead_art&limit=").concat(r,"&format=json")}}}]);
//# sourceMappingURL=Ribbon.355dfaeb7f.js.map